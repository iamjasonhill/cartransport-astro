---
// src/components/FontAwesome.astro
// Custom Font Awesome implementation with only the icons we need

// Import the custom CSS
import '../../styles/font-awesome.css';

// Self-hosted Font Awesome font files
const fontFiles = {
  solid: '/fonts/fa-solid-900.woff2',
  brands: '/fonts/fa-brands-400.woff2'
};
---

<!-- Load only the Font Awesome font files we need -->
<style is:inline>
  @font-face {
    font-family: 'Font Awesome 6 Free';
    font-style: normal;
    font-weight: 900;
    font-display: block;
    src: url(${fontFiles.solid}) format('woff2');
  }

  @font-face {
    font-family: 'Font Awesome 6 Brands';
    font-style: normal;
    font-weight: 400;
    font-display: block;
    src: url(${fontFiles.brands}) format('woff2');
  }

  /* Base styles for all icons */
  .fa-icon {
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    width: 1.25em;
    text-align: center;
  }

  /* Ensure icons are properly aligned */
  .fa, .fas, .far, .fal, .fab, .fa-icon {
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Set consistent icon size */
  .fa-icon {
    width: 1em;
    height: 1em;
    vertical-align: -0.125em;
  }
</style>

<!-- Preload font files -->
<link rel="preload" href={fontFiles.solid} as="font" type="font/woff2" crossorigin="anonymous" />
<link rel="preload" href={fontFiles.brands} as="font" type="font/woff2" crossorigin="anonymous" />

<!-- Load the actual font files -->
<script is:inline>
  // This script ensures fonts are loaded in the background
  if ('fonts' in document) {
    Promise.all([
      document.fonts.load('1em "Font Awesome 6 Free"'),
      document.fonts.load('1em "Font Awesome 6 Brands"')
    ]);
  }
</script>
